{% load static %}
<link rel="stylesheet" href="{% static 'css/public/left_bar.css' %}">
<link rel="stylesheet" href="{% static 'css/style.css' %}">

<div id="left-bar" class="d-flex flex-column h-100">
    <div class="d-flex flex-column h-100" style="overflow: hidden">
        <div class="favicon p-2 d-flex align-left gap-4">
            <div class="d-flex align-items-center p-1 side-button justify-content-center">
                <a id="toggle-btn" class="" onclick="PageNavigator('/')">
                    <?xml version="1.0" encoding="UTF-8"?>
                    <svg id="Layer_2" data-name="Layer 2" height="28" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 208.26 208.22">
                        <defs>
                            <style>
                                .cls-1, .cls-2 {
                                    fill: #231f20;
                                }

                                .cls-2 {
                                    stroke: #000;
                                    stroke-miterlimit: 10;
                                    stroke-width: 10px;
                                }

                                .cls-3 {
                                    fill: #a31c36;
                                }
                            </style>
                        </defs>
                        <g id="Layer_1-2" data-name="Layer 1">
                            <path class="cls-1" d="M114.62,136.48v-16.45c4.53,0,7.94-.64,10.24-1.93,2.35-1.4,3.8-2.99,4.36-4.78.62-1.79.98-5.34,1.09-10.66h-15.69v-30.63h41.88v26.1c0,9.45-.34,15.89-1.01,19.3-.67,3.47-2.63,6.91-5.87,10.32-3.24,3.3-7.19,5.59-11.83,6.88-4.53,1.23-12.25,1.85-23.16,1.85ZM57.97,136.48v-16.45c4.48,0,7.86-.64,10.15-1.93,2.41-1.34,3.89-2.94,4.45-4.78.62-1.85.95-5.4,1.01-10.66h-15.61v-30.63h41.79v26.1c0,9.45-.34,15.89-1.01,19.3-.67,3.47-2.63,6.91-5.87,10.32-3.24,3.3-7.19,5.59-11.83,6.88-4.53,1.23-12.23,1.85-23.08,1.85Z"/>
                            <g>
                                <path class="cls-2" d="M66.91,175.3c-33.23-17.41-50.57-56.39-39.52-93.62C39.74,40.07,83.69,15.69,125.51,27.3c40.66,11.29,64.97,51.74,57.27,92.05-.92,4.81,1.9,9.53,6.58,10.95h0c5.43,1.65,11.07-1.78,12.14-7.35,9.35-48.86-19.28-97.89-67.7-113.07C81.91-6.39,26.05,22.68,9.65,74.53c-14.76,46.67,6.77,95.94,48.52,117.73,5.27,2.75,11.74-.05,13.46-5.73h0c1.33-4.39-.66-9.09-4.72-11.22Z"/>
                                <path class="cls-2" d="M138.14,176.87c-34.08,15.68-75.53,5.6-98.27-25.9-25.4-35.19-17.86-84.89,16.88-110.9,33.78-25.29,80.65-19.84,107.86,10.87,3.24,3.66,8.71,4.32,12.69,1.48h0c4.62-3.29,5.35-9.86,1.59-14.1C145.93,1.08,89.63-6.2,48.03,22.86,3.45,54.01-7.66,116,23.38,160.65c27.94,40.19,80.1,53.24,122.85,33.49,5.39-2.49,7.13-9.32,3.68-14.16h0c-2.66-3.74-7.6-5.03-11.77-3.12Z"/>
                                <circle class="cls-3" cx="186.13" cy="168.13" r="21.93"/>
                            </g>
                        </g>
                    </svg>
                </a>
                <div class="explanations">
                    <a id="toggle-btn" class="d-flex align-items-center pt-2 side-button justify-content-center" onclick="PageNavigator('/')" style="padding-left:2px">
                        <?xml version="1.0" encoding="UTF-8"?>
                        <svg id="Layer_2" height="20" data-name="Layer 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600.65 192.21">
                            <defs>
                                <style>
                                    .cls-1 {
                                        fill: #231f20;
                                    }
                                </style>
                            </defs>
                            <g id="Layer_1-2" data-name="Layer 1">
                                <g>
                                    <path class="cls-1" d="M0,104.97v-58.43c0-6.68,2.65-9.6,8.5-9.6h19.45c6.23,0,8.69,2.92,8.69,9.6v55.51c0,14.19,3.59,19.83,12.47,19.83,4.91,0,10.58-2.3,15.11-6.47V46.54c0-6.68,2.65-9.6,8.69-9.6h19.45c6.04,0,8.5,2.92,8.5,9.6v97.46c0,6.89-2.46,9.6-8.5,9.6h-15.11c-6.23,0-8.5-2.71-8.5-9.18v-1.25c-8.31,8.35-20.59,12.94-31.92,12.94C12.09,156.1,0,139.41,0,104.97Z"/>
                                    <path class="cls-1" d="M117.3,95.37c0-40.7,17.94-60.94,53.83-60.94s54.02,20.24,54.02,60.94-18.13,60.73-54.02,60.73-53.83-20.24-53.83-60.73ZM187.94,95.37c0-19.62-4.72-27.13-16.81-27.13s-16.62,7.51-16.62,27.13,4.72,26.92,16.62,26.92,16.81-7.51,16.81-26.92Z"/>
                                    <path class="cls-1" d="M245.74,106.43v-35.9h-7.18c-6.04,0-8.69-2.71-8.69-9.39v-14.61c0-6.68,2.65-9.6,8.69-9.6h7.18v-14.82c0-7.93,1.7-11.06,7.18-12.52l12.09-2.71c4.16-1.04,7.56-1.88,10.01-1.88,5.48,0,7.37,2.92,7.37,9.39v22.54h21.53c6.04,0,8.69,2.92,8.69,9.6v14.61c0,6.68-2.64,9.39-8.69,9.39h-21.53v35.06c0,10.85,2.83,15.86,11.52,15.86,4.91,0,9.82-1.67,12.65-1.67,4.34,0,6.04,2.5,6.04,8.14v12.94c0,6.68-2.08,10.02-8.5,12.31-4.53,1.46-10.96,2.71-16.06,2.71-29.65,0-42.31-13.57-42.31-49.46Z"/>
                                    <path class="cls-1" d="M321.29,95.58c0-39.65,19.08-61.15,54.4-61.15,28.52,0,46.28,14.82,46.28,37.98,0,20.24-11.71,30.47-36.45,32.14l-26.63,2.09c1.51,11.48,7.93,16.49,22.1,16.49,8.5,0,18.51-2.09,26.06-5.43,6.99-3.34,11.9-1.88,11.9,5.01v13.57c0,6.47-3.02,10.85-9.25,13.36-8.69,3.76-21.91,6.47-33.62,6.47-37.4,0-54.77-19.2-54.77-60.52ZM372.1,83.48c11.14-1.04,16.05-3.76,16.05-10.23s-4.72-9.81-13.03-9.81c-9.82,0-15.49,7.3-16.43,21.08l13.41-1.04Z"/>
                                    <path class="cls-1" d="M436.51,117.29V9.6c0-6.89,2.65-9.6,8.5-9.6h19.45c6.23,0,8.69,2.71,8.69,9.6v103.72c0,6.26,2.08,8.77,6.61,8.77h2.08c4.53,0,6.42,2.3,6.42,8.14v13.15c0,6.47-2.46,9.39-8.5,11.06-3.59,1.04-7.74,1.46-11.52,1.46-23.23,0-31.73-10.23-31.73-38.61Z"/>
                                    <path class="cls-1" d="M494.88,190.12c-6.23-2.3-8.31-5.63-8.31-11.69v-12.31c0-5.84,1.32-8.14,5.85-8.14,2.46,0,5.1.63,8.12.63,8.69,0,16.81-2.92,24.36-14.19-17-30.68-34.19-81.39-34.19-99.34,0-5.63,2.64-8.14,7.56-8.14h19.64c7.56,0,10.58,2.5,11.52,8.77,3.4,23.37,10.01,46.96,17,65.11,6.8-17.53,12.84-40.49,16.81-65.11,1.13-6.47,4.34-8.77,11.71-8.77h17.94c5.1,0,7.74,2.5,7.74,8.14,0,17.74-16.43,68.04-33.05,98.92-17.75,32.56-34.19,48.21-58.74,48.21-6.23,0-10.2-.63-13.98-2.09Z"/>
                                </g>
                            </g>
                        </svg>
                    </a>
                </div>
            </div>
            <div class="position-relative w-100 explanations">
                <div class="position-absolute top-0 end-0">
                    <button id="toggle-btn" class="btn btn-light d-flex align-items-center p-2 side-button " data-tooltip="Close" onclick="toggleSidebar()">
                        <svg class="size-4" data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.245 2.5H14.5V12.5C14.5 13.0523 14.0523 13.5 13.5 13.5H6.245V2.5ZM4.995 2.5H1.5V12.5C1.5 13.0523 1.94772 13.5 2.5 13.5H4.995V2.5ZM0 1H1.5H14.5H16V2.5V12.5C16 13.8807 14.8807 15 13.5 15H2.5C1.11929 15 0 13.8807 0 12.5V2.5V1Z" fill="currentColor"></path></svg>
                    </button>
                </div>
            </div>
        </div>


        <!-- 其他内容部分 -->
        <div class="content flex-grow-1">
            <!-- 放置你左侧栏的其他内容，如导航、菜单等 -->
            <div class="menu-item d-flex align-items-center">
                <a href="#">1</a>
                <div class="explanation ms-2"><p>explanation of 1</p></div>
            </div>
            <div class="menu-item d-flex align-items-center">
                <a href="#">2</a>
                <div class="explanation ms-2">explanation of 2</div>
            </div>
            <div class="menu-item d-flex align-items-center">
                <a href="#">3</a>
                <div class="explanation ms-2">explanation of 3</div>
            </div>
        </div>


        <!-- 底部按钮部分 -->
        <div class="bottom-btn p-0 px-2 mt-0 ms-0 pb-2 d-flex">
            <!-- Toggle Sidebar Button -->
            <button type='button' id="toggle-btn" class="btn btn-light d-flex align-items-center p-2 side-button preview-only" onclick="toggleSidebar()"  data-tooltip="Expand">
                <svg class="size-4" data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.245 2.5H14.5V12.5C14.5 13.0523 14.0523 13.5 13.5 13.5H6.245V2.5ZM4.995 2.5H1.5V12.5C1.5 13.0523 1.94772 13.5 2.5 13.5H4.995V2.5ZM0 1H1.5H14.5H16V2.5V12.5C16 13.8807 14.8807 15 13.5 15H2.5C1.11929 15 0 13.8807 0 12.5V2.5V1Z" fill="currentColor"></path></svg>
            </button>

        </div>
        <div class="bottom-btn px-1 mt-0 ms-0 d-flex mb-2">
            <button id="" class="btn btn-light align-left gap-4 px-1 py-0 w-100" style="display: inline-flex; overflow: hidden" onclick="toggleFloatingComponent()">
                <span class="d-flex w-100 align-items-center">
                    <span class="py-1">
                        <img class="rounded d-block" src="{{ avatar }}" alt="User Avatar" />
                    </span>
                    <span class="explanations align-left ps-3" style="text-align: left; line-height: 1.1; top:-1px">
                        <span class="text-sm text-start" style="line-height: 0; padding: 0; text-align: left;">
                            <strong>
                                {{ user.username }}<br />
                                <span style="color: var(--platform-green)">
                                    {{ user.account_type }}
                                </span>
                            </strong>
                        </span>
                    </span>
                </span>
                <span class="align-items-center">
                    <svg data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M8.7071 2.39644C8.31658 2.00592 7.68341 2.00592 7.29289 2.39644L4.46966 5.21966L3.93933 5.74999L4.99999 6.81065L5.53032 6.28032L7.99999 3.81065L10.4697 6.28032L11 6.81065L12.0607 5.74999L11.5303 5.21966L8.7071 2.39644ZM5.53032 9.71966L4.99999 9.18933L3.93933 10.25L4.46966 10.7803L7.29289 13.6035C7.68341 13.9941 8.31658 13.9941 8.7071 13.6035L11.5303 10.7803L12.0607 10.25L11 9.18933L10.4697 9.71966L7.99999 12.1893L5.53032 9.71966Z" fill="currentColor"></path>
                    </svg>
                </span>
            </button>
        </div>
    </div>
        <!-- 侧栏点击 -->
    <div class="toggle-sidebar button-column align-right">
        <button onclick="toggleSidebar()"></button>
    </div>
    {% include 'public/user_card.html' %}
</div>
